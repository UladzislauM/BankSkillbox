<Window x:Class="Bank.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="MainWindow" 
        MaxHeight="450" 
        MinHeight="450"
        MaxWidth="1000"
        MinWidth="1000">
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header="Open json" 
                          Click="Button_Click_OpenJson"/>
                <MenuItem Header="Save json"
                          Click="Button_Click_SaveJson"/>
                <Separator/>
                <MenuItem Header="Connect to DB"
                          Click="Button_Click_Connect"/>
                <MenuItem Header="Save to DB"
                          Click="Button_Click_SaveAllToDB"/>
                <MenuItem Header="Load from DB"
                          Click="Button_Click_LoadAllFromDB"/>
                <Separator/>
                <MenuItem Header="Clear data"
                          Click="Button_Click_Clear"/>
                <Separator/>
                <MenuItem Header="Exit" Click="MenuItem_Exit_Click"/>
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Header="Help"/>
            </MenuItem>
        </Menu>

        <StatusBar DockPanel.Dock="Bottom">

        </StatusBar>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height = "*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width = "11*"/>
                <ColumnDefinition Width="11*"/>
                <ColumnDefinition Width="978*"/>
            </Grid.ColumnDefinitions>

            <TreeView x:Name="twBank" 
                HorizontalAlignment="Left" 
                Height="370"
                Margin="295,43,0,0" 
                VerticalAlignment="Top" 
                Width="247" Grid.Column="2">

                <TextBox IsReadOnly="True">Банк</TextBox>

                <TreeViewItem Header="Все клиенты"
                          Selected="TreeViewItem_Selected_AllClients"/>
                <TreeViewItem Header="Отдел работы с обычными клиентами"
                          x:Name="GeneralClients">
                    <TreeViewItem Header="Клиенты" 
                              Selected="TreeViewItem_Selected_GeneralClients"/>
                    <TreeViewItem Header="Счета" 
                              Selected="TreeViewItem_Selected_Scores"/>
                    <TreeViewItem Header="Вклады" 
                              Selected="TreeViewItem_Selected_Deposits"/>
                    <TreeViewItem Header="Кредиты"
                              Selected="TreeViewItem_Selected_Credits"/>
                </TreeViewItem>
                <TreeViewItem Header="Отдел работы с VIP клиентами"
                          x:Name="VIPClients">
                    <TreeViewItem Header="Клиенты" 
                              Selected="TreeViewItem_Selected_VIPClients"/>
                    <TreeViewItem Header="Счета" 
                              Selected="TreeViewItem_Selected_VIPScores"/>
                    <TreeViewItem Header="Вклады" 
                              Selected="TreeViewItem_Selected_VIPDeposits"/>
                    <TreeViewItem Header="Кредиты"
                              Selected="TreeViewItem_Selected_VIPCredits"/>
                </TreeViewItem>
                <TreeViewItem Header="Отдел работы с юридическими лицами"
                          x:Name="CorpClients">
                    <TreeViewItem Header="Клиенты" 
                              Selected="TreeViewItem_Selected_CorpClients"/>
                    <TreeViewItem Header="Счета" 
                              Selected="TreeViewItem_Selected_CorpScores"/>
                    <TreeViewItem Header="Вклады" 
                              Selected="TreeViewItem_Selected_CorpDeposits"/>
                    <TreeViewItem Header="Кредиты"
                              Selected="TreeViewItem_Selected_CorpCredits"/>
                </TreeViewItem>
            </TreeView>

            <DataGrid x:Name="dgClientsList"
            AutoGenerateColumns="False" 
            Margin="0,41,682,8" 
            CanUserSortColumns="True" 
            GotMouseCapture="dgClientsList_GotMouseCapture_Clients"
            CellEditEnding="dgClientsList_CellEditEnding" Grid.ColumnSpan="3">
                <DataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding Path = Id, UpdateSourceTrigger=PropertyChanged}"
                                    Header="№ кл." 
                                    Width="45"
                                    IsReadOnly="True"/>
                    <DataGridTextColumn Binding ="{Binding Path = FirstName, UpdateSourceTrigger=PropertyChanged}" 
                                    Header="Имя" 
                                    Width="90"/>
                    <DataGridTextColumn Binding="{Binding Path = LastName, UpdateSourceTrigger=PropertyChanged}"
                                    Header="Фамилия" 
                                    Width="90"/>
                    <DataGridTextColumn Binding="{Binding Path = Status, UpdateSourceTrigger=PropertyChanged}"
                                    Header="Статус" 
                                    Width="90"/>
                </DataGrid.Columns>
            </DataGrid>

            <DataGrid x:Name="dgScoresList"
                  AutoGenerateColumns="False" 
                  Margin="547,43,164,6" 
                  CanUserSortColumns="True"
                  GotMouseCapture="dgScoresList_GotMouseCapture_Scores" Grid.Column="2">
                <DataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding Path = Id, UpdateSourceTrigger=PropertyChanged}"
                                    Header="№ сч." 
                                    Width="45"
                                    IsReadOnly="True"/>
                    <DataGridTextColumn Binding = "{Binding Path = ScoreType, UpdateSourceTrigger=PropertyChanged}"
                                    Header="Тип сч."
                                    Width="50"
                                    IsReadOnly="True"/>
                    <DataGridTextColumn Binding = "{Binding Path = Balance, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:F2}}"
                                    Header="Баланс"
                                    Width="50"
                                    IsReadOnly="True"/>
                    <DataGridTextColumn Binding = "{Binding Path = Deadline, UpdateSourceTrigger=PropertyChanged}"
                                    Header="Срок дейст."
                                    Width="80"
                                    IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>

            <Button Content="Добавить Клиента"
                HorizontalAlignment="Left" 
                Margin="10,10,0,0"
                VerticalAlignment="Top"
                Width="120"
                Click="Button_Click_AddClient" 
                Grid.ColumnSpan="3"/>
            <Button x:Name="Send_Money_Button"
                Content="Перевести деньги в:"
                HorizontalAlignment="Left" 
                Margin="238,10,0,0"
                VerticalAlignment="Top"
                Width="120"
                Click="Button_Click_SendMoney"
                Visibility="Hidden" 
                Grid.Column="2"/>
            <Button Content="Добавить счет"
                HorizontalAlignment="Left" 
                Margin="113,10,0,0"
                VerticalAlignment="Top"
                Width="120"
                Click="Button_Click_AddScore" 
                Grid.Column="2"/>
            <Button Content="Проверка Срока выплаты"
                x:Name="buttonTest"
                HorizontalAlignment="Left" 
                Margin="363,10,0,0"
                VerticalAlignment="Top"
                Width="155"
                Click="Button_Click_TestDep" 
                Grid.Column="2"/>
            <Button Content="Сохранить в json"
                HorizontalAlignment="Left" 
                Margin="845,10,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_SaveJson" 
                Grid.Column="2"/>
            <Button Content="Загрузить json"
                HorizontalAlignment="Left" 
                Margin="845,34,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_OpenJson" 
                Grid.Column="2"/>
            <Button Content="Загрузить из БД"
                HorizontalAlignment="Left" 
                Margin="845,98,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_LoadAllFromDB" 
                Grid.Column="2"/>
            <Button Content="Сохранить в БД"
                HorizontalAlignment="Left" 
                Margin="845,123,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_SaveAllToDB" 
                Grid.Column="2"/>
            <Button Content="Очистить"
                HorizontalAlignment="Left" 
                Margin="845,162,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_Clear" 
                Grid.Column="2"/>
            <Button Content="Подключится к БД"
                HorizontalAlignment="Left" 
                Margin="845,73,0,0"
                VerticalAlignment="Top"
                Width="117"
                Click="Button_Click_Connect" 
                Grid.Column="2"/>
        </Grid>
    </DockPanel>
</Window>
